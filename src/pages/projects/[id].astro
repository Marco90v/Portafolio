---
import Layout from '../../layouts/Layout.astro';
import {URLProjects} from '../../utils/const';

const data:project[] = await fetch(URLProjects).then(response => response.json());
// import data from '../../data/projects.json'
import DetailProject from '../../components/DetailProject.astro';
const { id } = Astro.params;
const project = data.find((_, index:number) => index === Number(id));
if(!project){
  return Astro.redirect('/404');
}
---
<Layout title={`${project?.title} | Marco Velasquez Figarella`}>
  <DetailProject project={project} id="project"/>
</Layout>