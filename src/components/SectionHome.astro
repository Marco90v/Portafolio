---
// Componente de la secci√≥n de inicio
interface Props{
  lang: "en" | "es";
}

const { lang } = Astro.props;

import { Image } from 'astro:assets';
import ContentTitleLayout from '@layouts/ContentTitleLayout.astro';
import ContentLayout from '@layouts/ContentLayout.astro';
import TitleSection from '@components/TitleSection.astro';
import Icon from '@components/Icon.astro';

import Profile from '@assets/img/profile2.png';
import Linkedin from '@assets/icons/brand-linkedin.svg';
import Github from '@assets/icons/brand-github.svg';
import PDF from '@assets/icons/file-type-pdf.svg';
import FM from '@assets/icons/frontend-mentor.svg';
import CW from '@assets/icons/code-wars.svg';

import titleSection from '@data/titleSections.json';
import home from '@data/home.json';
import cv from '@data/cv.json';

const title = titleSection[lang].profile;
const content = home[lang];

const link = [
  {alt:"Github", src:Github, link:"https://github.com/Marco90v"},
  {alt:"Linkedin", src:Linkedin, link:"https://www.linkedin.com/in/marco90v/"},
  {alt:"PDF", src:PDF, link:cv[lang].link},
  {alt:"FM", src:FM, link:"https://www.frontendmentor.io/profile/marco90v"},
  {alt:"CW", src:CW, link:"https://www.codewars.com/users/mvf90"}
]
---
<div class="min-h-screen flex">
  <ContentLayout id="home" class="max-w-[1000px] md:mt-auto">
    <ContentTitleLayout>
        <TitleSection title={title} colorTitle="text-red-700"/>
    </ContentTitleLayout>
    <h1 class="text-center text-white text-4xl font-bold">Marco Velasquez Figarella</h1>
    <div id="contentProfile" class="grid  md:grid-cols-3 gap-4 mt-4">
      <h2 class="md:col-span-2 text-orange-500 text-2xl font-bold">{content[0]}</h2>
      <p class="md:col-span-2 text-lg">
        {
          (content[1] as [string]).map((text:string, index:number) => {
            if(index === 0 || index === 2) return text;
            return (
              <span class='bg-zinc-700 text-orange-500 px-2 rounded'>{text}</span>
            )
          })
        }
      </p>
      <p class="md:col-span-2 text-lg">
        {content[2]}
      </p>
      <p class="md:col-span-2 text-lg">
        {
          (content[3] as [string]).map((text:string, index:number) => {
            if(index === 0 || index === 2) return text;
            return (
              <span class='bg-zinc-700 text-orange-500 px-2 rounded'>{text}</span>
            )
          })
        }
      </p>
      <Image
        width={313}
        height={313}
        loading="eager"
        quality={50}
        format="webp"
        src={Profile}
        alt="Profile"
        class="w-full rounded-md row-start-1 max-w-60 sm:max-w-60 md:max-w-80 md:row-start-1 md:col-start-3 md:row-span-3 m-auto drop-shadow-[0_0_5px_rgba(227,227,227,0.2)] mask-gradient"
      />
      <div id="links" class="md:col-start-3 md:row-start-4 text-center flex justify-center items-center gap-x-4">
        {
          link.map(({alt,link, src}) => (
            <a href={link} target={alt !== "Detail" ? "_blank" : "_parent"} rel="noopener noreferrer" class="text-white hover:text-orange-500">
              <Icon src={src} alt={alt} loading="eager" />
            </a>
          ))
        }
      </div>
    </div>
  </ContentLayout>
</div>