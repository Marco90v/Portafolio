---
// Componente de la secci√≥n de retos
interface project {
    title:       string;
    img:         string;
    linkGithub:  string;
    linkLive:    string;
    description: string;
    details:     string;
    author:      string;
    skills:      string;
    client:      string;
}

interface Props {
  all?: "no" | "yes";
}

import ContentCardLayout from '../layouts/ContentCardLayout.astro';
import ContentLayout from '../layouts/ContentLayout.astro';
import TitleSection from './TitleSection.astro';
import ProjectCard from './ProjectCard.astro';
import ViewMore from './ViewMore.astro';
import data from '../data/challenge.json';
// const projects = await fetch('https://raw.githubusercontent.com/Marco90v/JSONs/refs/heads/main/challengesData.json');
// const data:project[] = await projects.json();
const { all="no" } = Astro.props;
const newData = all === "no" ? data.slice(0, 6) : data;
---
<ContentLayout id="challenges">
  <div class="absolute top-[-0.8rem] left-0 w-full text-center text-white text-sm font-bold">
    <TitleSection title="Challenge" colorTitle="text-orange-900" />
  </div>
  <ContentCardLayout>
    {
      newData.map((project, index) => ( <ProjectCard project={project} id={index} path="challenges" /> ))
    }
  </ContentCardLayout>
  {all==="no" && <ViewMore  href="/challenges"/>}
</ContentLayout>