---
// Componente de la secci√≥n de proyectos
interface project {
    title:       string;
    img:         string;
    linkGithub:  string;
    linkLive:    string;
    description: string;
    details:     string;
    author:      string;
    skills:      string;
    client:      string;
}

interface Props {
  all?: "no" | "yes";
}

import ContentTitleLayout from '../layouts/ContentTitleLayout.astro';
import ContentCardLayout from '../layouts/ContentCardLayout.astro';
import ContentLayout from '../layouts/ContentLayout.astro';
import TitleSection from './TitleSection.astro';
import ProjectCard from './ProjectCard.astro';
import ViewMore from './ViewMore.astro';
import data from '../data/projects.json';
// const projects = await fetch('https://raw.githubusercontent.com/Marco90v/JSONs/refs/heads/main/projectsData.json');
// const data:project[] = await projects.json();
const { all="no" } = Astro.props;
const newData = all === "no" ? data.slice(0, 6) : data;
---
<ContentLayout id="projects">
  <ContentTitleLayout>
    <TitleSection title="Projects" />
  </ContentTitleLayout>
  <ContentCardLayout>
    {
      newData.map((project, index) => ( <ProjectCard project={project} id={index} path="projects" /> ))
    }
  </ContentCardLayout>
  {all==="no" && <ViewMore  href="/projects"/>}
</ContentLayout>