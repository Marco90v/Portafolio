---
// Componente de la secciÃ³n de proyectos
interface Props {
  all?: "no" | "yes";
}
import ContentTitleLayout from '../layouts/ContentTitleLayout.astro';
import ContentCardLayout from '../layouts/ContentCardLayout.astro';
import ContentLayout from '../layouts/ContentLayout.astro';
import TitleSection from './TitleSection.astro';
import ProjectCard from './ProjectCard.astro';
import ViewMore from './ViewMore.astro';
import { URLProjects } from '../utils/const';
// import data from '../data/projects.json';
const data:project[] = await fetch(URLProjects).then(response => response.json());
const { all="no" } = Astro.props;
const newData = all === "no" ? data.slice(0, 6) : data;
---
<ContentLayout id="projects">
  <ContentTitleLayout>
    <TitleSection title="Projects" colorTitle="text-green-700" />
  </ContentTitleLayout>
  <ContentCardLayout>
    {
      newData.map((project, index) => ( <ProjectCard project={project} id={index} path="projects" /> ))
    }
  </ContentCardLayout>
  {all==="no" && <ViewMore  href="/projects"/>}
</ContentLayout>